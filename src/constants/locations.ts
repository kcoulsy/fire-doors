export const LOCATIONS = [
  { slug: "york", lat: 53.959, lng: -1.082 },
  { slug: "selby", lat: 53.781, lng: -1.070 },
  { slug: "tadcaster", lat: 53.885, lng: -1.264 },
  { slug: "pocklington", lat: 53.930, lng: -0.780 },
  { slug: "elvington", lat: 53.917, lng: -0.948 },
  { slug: "welburn", lat: 54.111, lng: -0.864 },
  { slug: "stamford-bridge", lat: 54.017, lng: -0.909 },
  { slug: "towton", lat: 53.847, lng: -1.277 },
  { slug: "wetherby", lat: 53.928, lng: -1.386 },
  { slug: "harrogate", lat: 53.992, lng: -1.541 },
  { slug: "knaresborough", lat: 54.009, lng: -1.465 },
  { slug: "ripley", lat: 54.039, lng: -1.537 },
  { slug: "spofforth", lat: 53.978, lng: -1.470 },
  { slug: "follifoot", lat: 53.970, lng: -1.493 },
  { slug: "pannal", lat: 53.964, lng: -1.537 },
  { slug: "beckwithshaw", lat: 53.964, lng: -1.537 },
  { slug: "darely", lat: 53.964, lng: -1.537 },
  { slug: "starbeck", lat: 53.964, lng: -1.537 },
  { slug: "leeds", lat: 53.800, lng: -1.549 },
  { slug: "garforth", lat: 53.791, lng: -1.381 },
  { slug: "rothwell", lat: 53.752, lng: -1.478 },
  { slug: "horsforth", lat: 53.843, lng: -1.637 },
  { slug: "otley", lat: 53.905, lng: -1.691 },
  { slug: "ripon", lat: 54.137, lng: -1.521 },
  { slug: "thirsk", lat: 54.232, lng: -1.343 },
  { slug: "masham", lat: 54.222, lng: -1.656 },
  { slug: "boroughbridge", lat: 54.095, lng: -1.399 },
  { slug: "easingwold", lat: 54.120, lng: -1.190 },
  { slug: "helmsley", lat: 54.245, lng: -1.056 },
  { slug: "pickering", lat: 54.243, lng: -0.777 },
  { slug: "sherburn-in-elmet", lat: 53.768, lng: -1.232 },
  { slug: "cawood", lat: 53.833, lng: -1.127 },
  { slug: "riccall", lat: 53.833, lng: -1.127 },
  { slug: "bishopthorpe", lat: 53.920, lng: -1.099 },
  { slug: "copmanthorpe", lat: 53.920, lng: -1.099 },
  { slug: "haxby", lat: 53.990, lng: -1.072 },
  { slug: "strensall", lat: 53.990, lng: -1.072 },
  { slug: "huntington", lat: 53.990, lng: -1.072 },
  { slug: "dunnington", lat: 53.920, lng: -1.099 },
  { slug: "wheldrake", lat: 53.920, lng: -1.099 },
  { slug: "escrick", lat: 53.920, lng: -1.099 },
  { slug: "deighton", lat: 53.920, lng: -1.099 },
  { slug: "askham-bryan", lat: 53.920, lng: -1.099 },
  { slug: "askham-richard", lat: 53.920, lng: -1.099 },
  { slug: "rufforth", lat: 53.920, lng: -1.099 },
  { slug: "acomb", lat: 53.959, lng: -1.082 },
  { slug: "fulford", lat: 53.959, lng: -1.082 },
  { slug: "heslington", lat: 53.959, lng: -1.082 },
  { slug: "stockton-on-the-forest", lat: 53.990, lng: -1.072 },
  { slug: "holtby", lat: 53.990, lng: -1.072 },
  { slug: "osbaldwick", lat: 53.990, lng: -1.072 },
  { slug: "heworth", lat: 53.990, lng: -1.072 },
  { slug: "tang-hall", lat: 53.959, lng: -1.082 },
  { slug: "yorkshire", lat: 53.957, lng: -1.082 },
];

export const NEARBY_LOCATIONS: Record<string, string[]> = {
  default: [
    "york",
    "harrogate",
    "wetherby",
    "leeds",
    "yorkshire",
  ],
  leeds: [
    "harrogate",
    "knaresborough",
    "garforth",
    "rothwell",
    "horsforth",
    "otley",
    "wetherby",
    "york",
  ],
  york: [
    "selby",
    "tadcaster",
    "pocklington",
    "elvington",
    "welburn",
    "stamford-bridge",
    "towton",
    "wetherby",
    "harrogate",
    "leeds",
  ],
  selby: [
    "york",
    "tadcaster",
    "cawood",
    "riccall",
    "pocklington",
    "elvington",
    "welburn",
    "stamford-bridge",
  ],
  tadcaster: [
    "york",
    "selby",
    "wetherby",
    "leeds",
    "sherburn-in-elmet",
    "cawood",
    "riccall",
  ],
  pocklington: [
    "york",
    "selby",
    "elvington",
    "welburn",
    "stamford-bridge",
    "tadcaster",
    "cawood",
  ],
  elvington: [
    "york",
    "pocklington",
    "welburn",
    "stamford-bridge",
    "selby",
    "tadcaster",
  ],
  welburn: [
    "york",
    "elvington",
    "pocklington",
    "stamford-bridge",
    "selby",
    "tadcaster",
  ],
  "stamford-bridge": [
    "york",
    "welburn",
    "elvington",
    "pocklington",
    "selby",
    "tadcaster",
  ],
  wetherby: [
    "york",
    "leeds",
    "harrogate",
    "tadcaster",
    "sherburn-in-elmet",
    "towton",
    "knaresborough",
  ],
  towton: [
    "york",
    "wetherby",
    "leeds",
    "harrogate",
    "tadcaster",
    "knaresborough",
  ],
  harrogate: [
    "ripley",
    "knaresborough",
    "spofforth",
    "follifoot",
    "pannal",
    "beckwithshaw",
    "darely",
    "starbeck",
    "wetherby",
    "york",
  ],
  knaresborough: [
    "harrogate",
    "ripley",
    "spofforth",
    "follifoot",
    "pannal",
    "beckwithshaw",
    "darely",
    "starbeck",
    "wetherby",
    "york",
  ],
  ripley: [
    "harrogate",
    "knaresborough",
    "spofforth",
    "follifoot",
    "pannal",
    "beckwithshaw",
    "darely",
    "starbeck",
    "york",
  ],
  spofforth: [
    "harrogate",
    "knaresborough",
    "ripley",
    "follifoot",
    "pannal",
    "beckwithshaw",
    "darely",
    "starbeck",
    "wetherby",
    "york",
  ],
  follifoot: [
    "harrogate",
    "knaresborough",
    "ripley",
    "spofforth",
    "pannal",
    "beckwithshaw",
    "darely",
    "starbeck",
    "wetherby",
    "york",
  ],
  pannal: [
    "harrogate",
    "knaresborough",
    "ripley",
    "spofforth",
    "follifoot",
    "beckwithshaw",
    "darely",
    "starbeck",
    "york",
  ],
  beckwithshaw: [
    "harrogate",
    "knaresborough",
    "ripley",
    "spofforth",
    "follifoot",
    "pannal",
    "darely",
    "starbeck",
    "york",
  ],
  darely: [
    "harrogate",
    "knaresborough",
    "ripley",
    "spofforth",
    "follifoot",
    "pannal",
    "beckwithshaw",
    "starbeck",
    "york",
  ],
  starbeck: [
    "harrogate",
    "knaresborough",
    "ripley",
    "spofforth",
    "follifoot",
    "pannal",
    "beckwithshaw",
    "darely",
    "york",
  ],
  ripon: [
    "thirsk",
    "masham",
    "boroughbridge",
    "york",
    "harrogate",
    "easingwold",
    "helmsley",
    "pickering",
  ],
  thirsk: [
    "ripon",
    "masham",
    "boroughbridge",
    "easingwold",
    "helmsley",
    "pickering",
    "york",
    "harrogate",
  ],
  masham: [
    "ripon",
    "thirsk",
    "boroughbridge",
    "easingwold",
    "helmsley",
    "pickering",
    "york",
    "harrogate",
  ],
  boroughbridge: [
    "ripon",
    "thirsk",
    "masham",
    "easingwold",
    "helmsley",
    "pickering",
    "york",
    "harrogate",
  ],
  easingwold: [
    "york",
    "ripon",
    "harrogate",
    "helmsley",
    "pickering",
    "thirsk",
    "masham",
    "boroughbridge",
  ],
  helmsley: [
    "york",
    "ripon",
    "easingwold",
    "pickering",
    "thirsk",
    "masham",
    "boroughbridge",
    "harrogate",
  ],
  pickering: [
    "york",
    "ripon",
    "easingwold",
    "helmsley",
    "thirsk",
    "masham",
    "boroughbridge",
    "harrogate",
  ],
  "sherburn-in-elmet": [
    "leeds",
    "tadcaster",
    "wetherby",
    "york",
    "garforth",
    "rothwell",
    "towton",
  ],
  cawood: [
    "selby",
    "york",
    "riccall",
    "tadcaster",
    "pocklington",
    "elvington",
    "welburn",
    "stamford-bridge",
  ],
  riccall: [
    "selby",
    "cawood",
    "york",
    "tadcaster",
    "pocklington",
    "elvington",
    "welburn",
    "stamford-bridge",
  ],
  bishopthorpe: [
    "york",
    "copmanthorpe",
    "acomb",
    "fulford",
    "heslington",
    "dunnington",
    "wheldrake",
    "escrick",
  ],
  copmanthorpe: [
    "york",
    "bishopthorpe",
    "askham-bryan",
    "askham-richard",
    "rufforth",
    "acomb",
    "fulford",
  ],
  haxby: [
    "york",
    "strensall",
    "huntington",
    "stockton-on-the-forest",
    "holtby",
    "osbaldwick",
    "heworth",
    "tang-hall",
  ],
  strensall: [
    "york",
    "haxby",
    "huntington",
    "stockton-on-the-forest",
    "holtby",
    "osbaldwick",
    "heworth",
  ],
  huntington: [
    "york",
    "haxby",
    "strensall",
    "stockton-on-the-forest",
    "holtby",
    "osbaldwick",
    "heworth",
    "tang-hall",
  ],
  dunnington: [
    "york",
    "wheldrake",
    "escrick",
    "deighton",
    "bishopthorpe",
    "copmanthorpe",
    "acomb",
  ],
  wheldrake: [
    "york",
    "dunnington",
    "escrick",
    "deighton",
    "elvington",
    "pocklington",
    "bishopthorpe",
  ],
  escrick: [
    "york",
    "wheldrake",
    "dunnington",
    "deighton",
    "bishopthorpe",
    "copmanthorpe",
    "acomb",
  ],
  deighton: [
    "york",
    "escrick",
    "wheldrake",
    "dunnington",
    "bishopthorpe",
    "copmanthorpe",
    "acomb",
  ],
  "askham-bryan": [
    "york",
    "copmanthorpe",
    "askham-richard",
    "rufforth",
    "acomb",
    "fulford",
    "bishopthorpe",
  ],
  "askham-richard": [
    "york",
    "askham-bryan",
    "copmanthorpe",
    "rufforth",
    "acomb",
    "fulford",
    "bishopthorpe",
  ],
  rufforth: [
    "york",
    "askham-bryan",
    "askham-richard",
    "copmanthorpe",
    "acomb",
    "fulford",
    "bishopthorpe",
  ],
  acomb: [
    "york",
    "bishopthorpe",
    "copmanthorpe",
    "askham-bryan",
    "askham-richard",
    "rufforth",
    "fulford",
    "heslington",
  ],
  fulford: [
    "york",
    "bishopthorpe",
    "copmanthorpe",
    "acomb",
    "heslington",
    "askham-bryan",
    "askham-richard",
    "rufforth",
  ],
  heslington: [
    "york",
    "acomb",
    "fulford",
    "bishopthorpe",
    "copmanthorpe",
    "askham-bryan",
    "askham-richard",
    "rufforth",
  ],
  "stockton-on-the-forest": [
    "york",
    "haxby",
    "strensall",
    "huntington",
    "holtby",
    "osbaldwick",
    "heworth",
    "tang-hall",
  ],
  holtby: [
    "york",
    "haxby",
    "strensall",
    "huntington",
    "stockton-on-the-forest",
    "osbaldwick",
    "heworth",
    "tang-hall",
  ],
  osbaldwick: [
    "york",
    "haxby",
    "strensall",
    "huntington",
    "stockton-on-the-forest",
    "holtby",
    "heworth",
    "tang-hall",
  ],
  heworth: [
    "york",
    "haxby",
    "strensall",
    "huntington",
    "stockton-on-the-forest",
    "holtby",
    "osbaldwick",
    "tang-hall",
  ],
  "tang-hall": [
    "york",
    "haxby",
    "strensall",
    "huntington",
    "stockton-on-the-forest",
    "holtby",
    "osbaldwick",
    "heworth",
  ],
  garforth: [
    "leeds",
    "rothwell",
    "sherburn-in-elmet",
    "tadcaster",
    "wetherby",
    "york",
    "horsforth",
  ],
  rothwell: [
    "leeds",
    "garforth",
    "sherburn-in-elmet",
    "tadcaster",
    "wetherby",
    "york",
    "horsforth",
  ],
  horsforth: [
    "leeds",
    "otley",
    "garforth",
    "rothwell",
    "wetherby",
    "york",
    "harrogate",
  ],
  otley: [
    "leeds",
    "horsforth",
    "harrogate",
    "wetherby",
    "york",
    "knaresborough",
    "ripley",
  ],
};

const EARTH_RADIUS_MILES = 3958.8;

function toRadians(degrees: number): number {
  return degrees * (Math.PI / 180);
}

function haversineDistance(
  lat1: number,
  lng1: number,
  lat2: number,
  lng2: number
): number {
  const dLat = toRadians(lat2 - lat1);
  const dLng = toRadians(lng2 - lng1);
  const a =
    Math.sin(dLat / 2) ** 2 +
    Math.cos(toRadians(lat1)) *
      Math.cos(toRadians(lat2)) *
      Math.sin(dLng / 2) ** 2;

  return EARTH_RADIUS_MILES * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
}

export function getLocationsWithinRadius(
  centerLat: number,
  centerLng: number,
  radiusMiles: number
): string[] {
  return LOCATIONS.filter(({ lat, lng }) => {
    const distance = haversineDistance(centerLat, centerLng, lat, lng);
    return distance <= radiusMiles;
  }).map(({ slug }) => slug);
}
