---
import type { GetStaticPaths, GetStaticPathsResult } from "astro";
import { LOCATIONS } from "../constants/locations";
import FireDoorServicesPage from "../components/FireDoorServicesPage.astro";
import FireDoorMaintenancePage from "../components/FireDoorMaintenancePage.astro";
import FireDoorInspectorsPage from "../components/FireDoorInspectorsPage.astro";
import FireDoorInstallersPage from "../components/FireDoorInstallersPage.astro";

export const getStaticPaths = (() => {
  const paths: GetStaticPathsResult = [];

  LOCATIONS.forEach(({ slug }) => {
    paths.push({
      params: {
        location: slug,
        type: "fire-door-services",
      },
    });
  });

  LOCATIONS.forEach(({ slug }) => {
    paths.push({
      params: {
        location: slug,
        type: "fire-door-inspectors",
      },
    });
  });

  LOCATIONS.forEach(({ slug }) => {
    paths.push({
      params: {
        location: slug,
        type: "fire-door-installers",
      },
    });
  });

  LOCATIONS.forEach(({ slug }) => {
    paths.push({
      params: {
        location: slug,
        type: "fire-door-maintenance",
      },
    });
  });

  return paths;
}) satisfies GetStaticPaths;

const { location, type } = Astro.params;
---

{type === "fire-door-services" && <FireDoorServicesPage />}
{type === "fire-door-maintenance" && <FireDoorMaintenancePage />}
{type === "fire-door-inspectors" && <FireDoorInspectorsPage />}
{type === "fire-door-installers" && <FireDoorInstallersPage />}
